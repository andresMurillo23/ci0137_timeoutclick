<script src="/js/config.js"></script>
<script src="/js/partials/head.js"></script>
<script src="/js/partials/navbar.js"></script>

<script>window.NAV_ACTIVE = "history";</script>
<script src="/js/utils/activeTab.js" defer></script>

<!-- Reports/tables stylesheet -->
<link rel="stylesheet" href="/css/pages/reports.css">

<main class="report">
  <section class="content">
    <!-- Title + context -->
    <h2 class="titles--light">BATTLE HISTORY</h2>
    <p class="subtitle">Your complete duel history in Timeout Click</p>

    <!-- Filters panel -->
    <div class="report-filters">
      <div class="filters-header">Filters</div>

      <div class="filters-content">
        <!-- Date range + type filter -->
        <div class="date-range">
          <div class="filter-controls">
            <div class="date-input-group">
              <label for="from-date">From Date</label>
              <input type="date" id="from-date" value="2024-01-01">
            </div>

            <div class="date-input-group">
              <label for="to-date">To Date</label>
              <input type="date" id="to-date" value="2024-12-31">
            </div>

            <div class="filter-input-group">
              <label for="filter-type">Type</label>
              <select id="filter-type">
                <option value="all" selected>All</option>
                <option value="wins">Wins</option>
                <option value="losses">Losses</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Apply filters -->
        <button class="btn--filter">Apply</button>
      </div>
    </div>

    <!-- History table -->
    <table class="table" aria-label="Battle History">
      <thead>
        <tr>
          <th>Date</th>
          <th>Opponent</th>
          <th>Opponent Press time</th>
          <th>My time</th>
          <th>Goal Time</th>
          <th>Winner</th>
        </tr>
      </thead>

      <!-- Sample rows -->
      <tbody>
        <tr>
          <td>12/08/2025</td>
          <td>andresmimi</td>
          <td>3.99</td>
          <td>3.98</td>
          <td>4</td>
          <td>andresmimi</td>
        </tr>
        <tr>
          <td>15/08/2025</td>
          <td>rolypoli</td>
          <td>2.98</td>
          <td>3.98</td>
          <td>5</td>
          <td>youruser</td>
        </tr>
        <tr>
          <td>19/08/2025</td>
          <td>isabel</td>
          <td>3.98</td>
          <td>3.70</td>
          <td>4</td>
          <td>isabel</td>
        </tr>
      </tbody>

      <!-- Pager + page-size selector -->
      <tfoot class="table-footer">
        <tr>
          <td colspan="6">
            <div class="table-pager">
              <div class="table-pager-navigation">
                <button class="table-pager-btn" disabled>◀</button>
                <div class="table-pager-info">Page <strong>1</strong> of <strong>3</strong></div>
                <button class="table-pager-btn">▶</button>
              </div>

              <div class="table-pager-size">
                <span class="table-pager-size-label">Show:</span>
                <select class="table-pager-size-select">
                  <option value="5">5</option>
                  <option value="10" selected>10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                </select>
              </div>
            </div>
          </td>
        </tr>
      </tfoot>
    </table>
  </section>
</main>

<script src="/js/partials/footer.js"></script>
<script src="/js/utils/api-client.js"></script>
<script src="/js/utils/auth-manager.js"></script>
<script>
  window.api = new ApiClient();
  window.auth = new AuthManager();
  window.auth.initialize();
</script>
<script src="/js/utils/table-sorter.js"></script>
<script src="/js/pages/history.js"></script>
